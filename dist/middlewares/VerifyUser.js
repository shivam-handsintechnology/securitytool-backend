const _0x2b3916=_0x2781;function _0x2781(_0x53b2d8,_0x45f5dd){const _0x5f34c3=_0x5f34();return _0x2781=function(_0x2781f1,_0x3b65f9){_0x2781f1=_0x2781f1-0x7f;let _0x20bd42=_0x5f34c3[_0x2781f1];return _0x20bd42;},_0x2781(_0x53b2d8,_0x45f5dd);}(function(_0x4f237f,_0x2afdce){const _0x1f1676=_0x2781,_0x15a11c=_0x4f237f();while(!![]){try{const _0x5b2ea9=parseInt(_0x1f1676(0x90))/0x1*(parseInt(_0x1f1676(0x8e))/0x2)+parseInt(_0x1f1676(0x88))/0x3+-parseInt(_0x1f1676(0x91))/0x4+parseInt(_0x1f1676(0x9d))/0x5+parseInt(_0x1f1676(0x92))/0x6+-parseInt(_0x1f1676(0x99))/0x7+-parseInt(_0x1f1676(0x98))/0x8;if(_0x5b2ea9===_0x2afdce)break;else _0x15a11c['push'](_0x15a11c['shift']());}catch(_0x1b6cb2){_0x15a11c['push'](_0x15a11c['shift']());}}}(_0x5f34,0x27b9f));function _0x5f34(){const _0x530267=['verify','mYPvN','query','exports','includes','startDate','config','log','endDate','Please\x20Subsribe\x20First','../utils/errorHandler','../models/SubscriptionModel','Authorization','bbQBG','message','Subscription\x20is\x20Expired','JWT_SECRET','subsription','422382GSHLBg','split','isBefore','authorization','path','MMM\x20DD\x20HH:mm:ss\x20YYYY\x20GMT','2HybyJZ','qYbAr','185351pVgOBz','386212VFmAxq','280662czNvmD','user','/checkout/verify','body','moment','PCotd','1730808DSoIUl','63553lYYhVj','NiOSH','missing\x20authorization','jsonwebtoken','558900OZZPjO','dotenv','headers','HsCvR'];_0x5f34=function(){return _0x530267;};return _0x5f34();}const jwt=require(_0x2b3916(0x9c));require(_0x2b3916(0x9e))[_0x2b3916(0xa7)]();const moment=require(_0x2b3916(0x96)),{sendResponse:sendResponse}=require('../utils/dataHandler'),{errorHandler:errorHandler}=require(_0x2b3916(0x80)),Subscription=require(_0x2b3916(0x81)),skiproute=['/checkout',_0x2b3916(0x94)],verifyToken=(_0x32080e,_0xc08e32,_0x5e718d)=>{const _0x1c20b9=_0x2b3916,_0x1d9d8a={'bbQBG':function(_0x9bc74c,_0x574a45,_0x4003e2,_0x8fed94,_0x28bf6e){return _0x9bc74c(_0x574a45,_0x4003e2,_0x8fed94,_0x28bf6e);},'NiOSH':function(_0x320166){return _0x320166();},'mYPvN':_0x1c20b9(0x7f),'qYbAr':function(_0x207041,_0x1faa34,_0x2e6348){return _0x207041(_0x1faa34,_0x2e6348);},'rSAgn':_0x1c20b9(0x8d),'PCotd':function(_0x11f6e4,_0x9cc128,_0x5a016c,_0x6c150e,_0x3132c0){return _0x11f6e4(_0x9cc128,_0x5a016c,_0x6c150e,_0x3132c0);},'HsCvR':function(_0x289a81,_0x38b481,_0x367f7d,_0x4abeeb,_0x49076a){return _0x289a81(_0x38b481,_0x367f7d,_0x4abeeb,_0x49076a);}};try{console[_0x1c20b9(0xa8)](_0x32080e[_0x1c20b9(0x8c)]),console['log']('verify\x20token',_0x32080e[_0x1c20b9(0x9f)][_0x1c20b9(0x8b)]);var _0x2f0a00=!0x0;const _0x4acd37=_0x32080e['headers'][_0x1c20b9(0x8b)]||_0x32080e[_0x1c20b9(0xa3)][_0x1c20b9(0x8b)]||_0x32080e[_0x1c20b9(0x95)]['authorization']||_0x32080e['headers'][_0x1c20b9(0x82)]||_0x32080e[_0x1c20b9(0xa3)][_0x1c20b9(0x82)]||_0x32080e['body']['Authorization'];if(!_0x4acd37)return _0x1d9d8a[_0x1c20b9(0xa0)](sendResponse,_0xc08e32,0x193,_0x1c20b9(0x9b),{'Authenticate':_0x2f0a00=!0x1});const [_0x5e6f38,_0xb43326]=_0x4acd37[_0x1c20b9(0x89)]('\x20');console[_0x1c20b9(0xa8)]({'token':_0xb43326}),jwt[_0x1c20b9(0xa1)](_0xb43326,process['env'][_0x1c20b9(0x86)],async(_0x1b4cb8,_0xb9dcbf)=>{const _0x678453=_0x1c20b9;if(_0x1b4cb8)return console['log'](_0x1b4cb8),_0x2f0a00=!0x1,_0x1d9d8a[_0x678453(0x83)](sendResponse,_0xc08e32,0x193,_0x1b4cb8[_0x678453(0x84)],{'Authenticate':_0x2f0a00});if(skiproute[_0x678453(0xa5)](_0x32080e['path']))return _0x32080e[_0x678453(0x93)]=_0xb9dcbf,_0x1d9d8a['NiOSH'](_0x5e718d);let _0x310f2a=await Subscription['findOne']({'userId':_0xb9dcbf['id']});if(console[_0x678453(0xa8)](_0x678453(0x87),_0x310f2a),!_0x310f2a)return _0x1d9d8a['bbQBG'](sendResponse,_0xc08e32,0x195,_0x1d9d8a[_0x678453(0xa2)],{'Authenticate':_0x2f0a00});if(!_0x310f2a[_0x678453(0xa6)]&&!_0x310f2a[_0x678453(0xa9)])return _0x1d9d8a[_0x678453(0x83)](sendResponse,_0xc08e32,0x195,_0x1d9d8a['mYPvN'],{'Authenticate':_0x2f0a00});const _0x1f8d84=_0x1d9d8a[_0x678453(0x9a)](moment);return _0x1d9d8a[_0x678453(0x8f)](moment,_0x310f2a['endDate'],_0x1d9d8a['rSAgn'])[_0x678453(0x8a)](_0x1f8d84)?_0x1d9d8a[_0x678453(0x97)](sendResponse,_0xc08e32,0x195,_0x678453(0x85),{'Authenticate':_0x2f0a00}):(_0x32080e[_0x678453(0x93)]=_0xb9dcbf,_0x5e718d());});}catch(_0x15e5cd){return console[_0x1c20b9(0xa8)](_0x15e5cd),errorHandler(_0xc08e32,0x1f4,_0x15e5cd[_0x1c20b9(0x84)]);}};module[_0x2b3916(0xa4)]=verifyToken;